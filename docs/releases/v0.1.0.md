# Invariant v0.1.0

## Highlights

- First-class OpenClaw integration (`http-proxy` + `ws-node`)
- Deterministic mapping and canonical JSON intent hashing
- Anti-replay and idempotency protections (`nonce/ttl + dedupe`)
- Full verdict handling (`ALLOW/SHIELD/DEFER/ESCROW/DENY`)
- Escrow lifecycle and approval controls with SoD checks
- Prometheus metrics + Grafana dashboards + incident runbook

## Demo Path

Run:

```bash
./scripts/demo_openclaw_invariant.sh
```

Expected flow:

1. Side-effecting request yields `ESCROW`
2. Approval transitions escrow to execution and closure
3. Re-invocation under approved conditions yields `ALLOW`
4. Replay returns `drift:false` for deterministic verification

## Security and Quality Gates

- `go test ./...`
- `go test -race ./...`
- `gosec` with `0` issues
- `govulncheck` no known vulnerabilities
- Trivy critical scan gate
- Coverage gate `>=85%`

## Breaking Changes

None intended for existing Invariant APIs.

## Upgrade Notes

- Ensure CI references a valid pinned `actions/setup-go` SHA
- Keep branch protection enabled with required checks and review gate
- Use signed commits for merge commits into `main`
